{"ast":null,"code":"var _jsxFileName = \"/mnt/devplex/Nightland/nightland/src/components/CombatUI.js\",\n  _s = $RefreshSig$();\n// nightland/src/components/CombatUI.js\nimport React, { useEffect, useState } from 'react';\nimport Dialog from './Dialog';\nimport { combatStep } from '../modules/combat';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CombatUI = ({\n  state,\n  dispatch\n}) => {\n  _s();\n  var _state$dialogData, _state$dialogData$pla, _state$dialogData2, _state$dialogData3, _state$dialogData3$en;\n  const [combatActive, setCombatActive] = useState(false);\n  useEffect(() => {\n    if (state.inCombat && !combatActive) {\n      var _state$combatTurn;\n      console.log('Combat Started - Initial State:', {\n        combatTurn: (_state$combatTurn = state.combatTurn) === null || _state$combatTurn === void 0 ? void 0 : _state$combatTurn.name,\n        attackSlots: state.attackSlots\n      });\n      setCombatActive(true);\n    }\n  }, [state.inCombat]);\n  const handleNextTurn = () => {\n    console.log('Next Turn Clicked');\n    combatStep(state, dispatch);\n  };\n  console.log('CombatUI Component - inCombat:', state.inCombat, 'Dialog Data:', state.dialogData);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"combat\",\n    children: [/*#__PURE__*/_jsxDEV(Dialog, {\n      data: ((_state$dialogData2 = state.dialogData) === null || _state$dialogData2 === void 0 ? void 0 : _state$dialogData2.player) || {\n        name: state.player.name,\n        hp: state.player.hp,\n        comment: ''\n      },\n      index: \"player\"\n    }, `player-${((_state$dialogData = state.dialogData) === null || _state$dialogData === void 0 ? void 0 : (_state$dialogData$pla = _state$dialogData.player) === null || _state$dialogData$pla === void 0 ? void 0 : _state$dialogData$pla.comment) || 'default'}`, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 13\n    }, this), (_state$dialogData3 = state.dialogData) === null || _state$dialogData3 === void 0 ? void 0 : (_state$dialogData3$en = _state$dialogData3.enemies) === null || _state$dialogData3$en === void 0 ? void 0 : _state$dialogData3$en.map((enemy, i) => enemy && /*#__PURE__*/_jsxDEV(Dialog, {\n      data: enemy,\n      index: i\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 17\n    }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleNextTurn,\n      children: \"Next Turn\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 9\n  }, this);\n};\n_s(CombatUI, \"wiBhgT2Tb9GuO9zZXnZimbCQPmI=\");\n_c = CombatUI;\nexport default CombatUI;\nvar _c;\n$RefreshReg$(_c, \"CombatUI\");","map":{"version":3,"names":["React","useEffect","useState","Dialog","combatStep","jsxDEV","_jsxDEV","CombatUI","state","dispatch","_s","_state$dialogData","_state$dialogData$pla","_state$dialogData2","_state$dialogData3","_state$dialogData3$en","combatActive","setCombatActive","inCombat","_state$combatTurn","console","log","combatTurn","name","attackSlots","handleNextTurn","dialogData","className","children","data","player","hp","comment","index","fileName","_jsxFileName","lineNumber","columnNumber","enemies","map","enemy","i","onClick","_c","$RefreshReg$"],"sources":["/mnt/devplex/Nightland/nightland/src/components/CombatUI.js"],"sourcesContent":["// nightland/src/components/CombatUI.js\nimport React, { useEffect, useState } from 'react';\nimport Dialog from './Dialog';\nimport { combatStep } from '../modules/combat';\n\nconst CombatUI = ({ state, dispatch }) => {\n    const [combatActive, setCombatActive] = useState(false);\n\n    useEffect(() => {\n        if (state.inCombat && !combatActive) {\n            console.log('Combat Started - Initial State:', { combatTurn: state.combatTurn?.name, attackSlots: state.attackSlots });\n            setCombatActive(true);\n        }\n    }, [state.inCombat]);\n\n    const handleNextTurn = () => {\n        console.log('Next Turn Clicked');\n        combatStep(state, dispatch);\n    };\n\n    console.log('CombatUI Component - inCombat:', state.inCombat, 'Dialog Data:', state.dialogData);\n\n    return (\n        <div className=\"combat\">\n            <Dialog\n                key={`player-${state.dialogData?.player?.comment || 'default'}`}\n                data={state.dialogData?.player || { name: state.player.name, hp: state.player.hp, comment: '' }}\n                index=\"player\"\n            />\n            {state.dialogData?.enemies?.map((enemy, i) => enemy && (\n                <Dialog key={i} data={enemy} index={i} />\n            ))}\n            <button onClick={handleNextTurn}>Next Turn</button>\n        </div>\n    );\n};\n\nexport default CombatUI;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}